<script>
  (function () {
    let isServerDown = false;

    function checkServer() {
      fetch('/check-9e328da2', { method: 'GET', cache: 'no-store' })
        .then((response) => {
          if (response.ok) {
            if (isServerDown) {
              window.location.reload();
            }
            isServerDown = false;
            setTimeout(checkServer, 250);
          } else {
            throw new Error('Server responded with error');
          }
        })
        .catch((error) => {
          if (!isServerDown) {
            isServerDown = true;
          }
          setTimeout(checkServer, 50);
        });
    }

    console.log('Dev refresh monitoring started');
    checkServer();
  })();
</script>
